{
  "nodes": [
    {
      "nodeId": "userGuide",
      "name": "common:core.module.template.system_config",
      "intro": "common:core.module.template.system_config_info",
      "avatar": "core/workflow/template/systemConfig",
      "flowNodeType": "userGuide",
      "position": {
        "x": 28.564260908736287,
        "y": -471.06489785246794
      },
      "version": "481",
      "inputs": [
        {
          "key": "welcomeText",
          "renderTypeList": ["hidden"],
          "valueType": "string",
          "label": "core.app.Welcome Text",
          "value": "æ‚¨å¥½ï¼æˆ‘æ˜¯æ™ºæ…§åœè½¦åœºAIå®¢æœåŠ©æ‰‹ğŸš—\n\næˆ‘å¯ä»¥å¸®æ‚¨ï¼š\nâ€¢ æŸ¥è¯¢åœè½¦è´¹ç”¨\nâ€¢ åŠç†æœˆå¡/ä¼˜æƒ \nâ€¢ å¤„ç†å‡ºå…¥åœºé—®é¢˜\nâ€¢ å¼€å…·å‘ç¥¨\n\nå¦‚éœ€äººå·¥æœåŠ¡ï¼Œè¯·è¯´"è½¬äººå·¥"ã€‚"
        },
        {
          "key": "variables",
          "renderTypeList": ["hidden"],
          "valueType": "any",
          "label": "core.app.Chat Variable",
          "value": [
            {
              "id": "plateNumber",
              "key": "plateNumber",
              "label": "è½¦ç‰Œå·",
              "type": "input",
              "required": false,
              "maxLen": 10,
              "enums": []
            }
          ]
        },
        {
          "key": "questionGuide",
          "valueType": "any",
          "renderTypeList": ["hidden"],
          "label": "core.app.Question Guide",
          "value": {
            "open": true,
            "textList": ["åœè½¦è´¹æ€ä¹ˆç®—", "æ€ä¹ˆåŠæœˆå¡", "æ‰«ç æ²¡ååº”æ€ä¹ˆåŠ", "è½¬äººå·¥"]
          }
        },
        {
          "key": "tts",
          "renderTypeList": ["hidden"],
          "valueType": "any",
          "label": "",
          "value": {
            "type": "web"
          }
        },
        {
          "key": "whisper",
          "renderTypeList": ["hidden"],
          "valueType": "any",
          "label": "",
          "value": {
            "open": true,
            "autoSend": true,
            "autoTTSResponse": true
          }
        },
        {
          "key": "scheduleTrigger",
          "renderTypeList": ["hidden"],
          "valueType": "any",
          "label": "",
          "value": null
        }
      ],
      "outputs": []
    },
    {
      "nodeId": "448745",
      "name": "common:core.module.template.work_start",
      "intro": "",
      "avatar": "core/workflow/template/workflowStart",
      "flowNodeType": "workflowStart",
      "position": {
        "x": 535.2644061635716,
        "y": -439.9115682133198
      },
      "version": "481",
      "inputs": [
        {
          "key": "userChatInput",
          "renderTypeList": ["reference", "textarea"],
          "valueType": "string",
          "label": "workflow:user_question",
          "required": true,
          "toolDescription": "ç”¨æˆ·é—®é¢˜",
          "debugLabel": ""
        }
      ],
      "outputs": [
        {
          "id": "userChatInput",
          "key": "userChatInput",
          "label": "common:core.module.input.label.user question",
          "type": "static",
          "valueType": "string",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "xfPqhqw0IAHkLdtl",
      "name": "é—®é¢˜åˆ†ç±»",
      "intro": "æ ¹æ®ç”¨æˆ·çš„å†å²è®°å½•å’Œå½“å‰é—®é¢˜åˆ¤æ–­è¯¥æ¬¡æé—®çš„ç±»å‹ã€‚",
      "avatar": "core/workflow/template/questionClassify",
      "flowNodeType": "classifyQuestion",
      "showStatus": true,
      "position": {
        "x": 970.8123139637407,
        "y": -708.3239754328632
      },
      "version": "4.9.2",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": ["selectLLMModel", "reference"],
          "label": "common:core.module.input.label.aiModel",
          "required": true,
          "valueType": "string",
          "llmModelType": "classify",
          "value": "qwen-turbo",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "systemPrompt",
          "renderTypeList": ["textarea", "reference"],
          "max": 3000,
          "valueType": "string",
          "label": "common:core.module.input.label.Background",
          "description": "common:core.module.input.description.Background",
          "placeholder": "common:core.module.input.placeholder.Classify background",
          "value": "ä½ æ˜¯ä¸€ä¸ªæ™ºæ…§åœè½¦åœºçš„å®¢æœåŠ©æ‰‹ï¼Œè¯·åˆ¤æ–­ç”¨æˆ·çš„æ„å›¾ã€‚\n\næ³¨æ„ï¼š\n- ç”¨æˆ·è¡¨è¾¾ä¸æ»¡ã€ç„¦è™‘ã€ç€æ€¥æ—¶ï¼Œä¼˜å…ˆå½’ç±»ä¸º"ç´§æ€¥/æŠ•è¯‰"\n- ç”¨æˆ·è¯¢é—®å…·ä½“æ“ä½œé—®é¢˜æ—¶ï¼Œå½’ç±»ä¸º"æ™ºèƒ½é—®ç­”"\n- ç”¨æˆ·æ˜ç¡®è¦æ±‚äººå·¥æ—¶ï¼Œå½’ç±»ä¸º"ç›´è¿äººå·¥"",
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "history",
          "renderTypeList": ["numberInput", "reference"],
          "valueType": "chatHistory",
          "label": "common:core.module.input.label.chat history",
          "description": "workflow:max_dialog_rounds",
          "required": true,
          "min": 0,
          "max": 50,
          "value": 6,
          "debugLabel": "",
          "toolDescription": ""
        },
        {
          "key": "userChatInput",
          "renderTypeList": ["reference", "textarea"],
          "valueType": "string",
          "label": "workflow:user_question",
          "toolDescription": "ç”¨æˆ·è¾“å…¥çš„é—®é¢˜",
          "required": true,
          "value": ["448745", "userChatInput"],
          "debugLabel": ""
        },
        {
          "renderTypeList": ["custom"],
          "valueType": "any",
          "label": "",
          "debugLabel": "",
          "toolDescription": "",
          "key": "agents",
          "value": [
            {
              "value": "åˆ†ç±»1ï¼šç›´è¿äººå·¥ï¼ˆå¼ºæ„å›¾ï¼‰\nå…³é”®è¯ï¼šäººå·¥ã€è½¬æ¥ã€å®¢æœã€çœŸäººã€å‘¼å«\nç¤ºä¾‹ï¼šæˆ‘è¦äººå·¥å®¢æœã€å¸®æˆ‘è½¬äººå·¥ã€æˆ‘è¦æ‰¾çœŸäºº",
              "key": "human_direct"
            },
            {
              "value": "åˆ†ç±»2ï¼šç´§æ€¥/æŠ•è¯‰ï¼ˆéœ€ä¼˜å…ˆå¤„ç†ï¼‰\nå…³é”®è¯ï¼šæŠ•è¯‰ã€ä¸¾æŠ¥ã€å¤ªæ…¢äº†ã€æ€¥æ­»äº†ã€ä»€ä¹ˆç ´ç³»ç»Ÿã€å‘äºº\nç¤ºä¾‹ï¼šæˆ‘è¦æŠ•è¯‰ã€ä½ ä»¬è¿™æ˜¯ä»€ä¹ˆæœåŠ¡ã€æˆ‘ç­‰äº†åŠå°æ—¶äº†",
              "key": "urgent_complaint"
            },
            {
              "value": "åˆ†ç±»3ï¼šè®¾å¤‡æ•…éšœ/ç´§æ€¥æ±‚åŠ©\nå…³é”®è¯ï¼šå‡ºä¸å»ã€è¿›ä¸æ¥ã€æŠ¬æ†ã€å¼€é—¸ã€åäº†ã€å¡ä½ã€æ‰«ç å¤±è´¥\nç¤ºä¾‹ï¼šé—¸æœºåäº†ã€æ‰«ç æ²¡ååº”ã€è½¦è¢«å¡ä½äº†ã€å‡ºä¸å»æ€ä¹ˆåŠ",
              "key": "device_emergency"
            },
            {
              "value": "åˆ†ç±»4ï¼šæ™ºèƒ½é—®ç­”ï¼ˆå¸¸è§„å’¨è¯¢ï¼‰\nå…³é”®è¯ï¼šå¤šå°‘é’±ã€æ€ä¹ˆæ”¶è´¹ã€æœˆå¡ã€å‘ç¥¨ã€ä¼˜æƒ ã€è§„åˆ™ã€æ—¶é—´\nç¤ºä¾‹ï¼šåœè½¦è´¹æ€ä¹ˆç®—ã€æœˆå¡å¤šå°‘é’±ã€æ€ä¹ˆå¼€å‘ç¥¨",
              "key": "normal_qa"
            },
            {
              "value": "åˆ†ç±»5ï¼šé—²èŠ/æ‰“æ‹›å‘¼\nå…³é”®è¯ï¼šä½ å¥½ã€åœ¨å—ã€è°¢è°¢ã€å†è§ã€æ—©ä¸Šå¥½\nç¤ºä¾‹ï¼šä½ å¥½å•Šã€è°¢è°¢ä½ ã€æ‹œæ‹œ",
              "key": "greeting"
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "cqResult",
          "key": "cqResult",
          "required": true,
          "label": "workflow:classification_result",
          "valueType": "string",
          "type": "static",
          "valueDesc": "",
          "description": ""
        }
      ]
    },
    {
      "nodeId": "greetingChat",
      "name": "é—²èŠå›å¤",
      "intro": "å¤„ç†æ‰“æ‹›å‘¼å’Œé—²èŠ",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 1500,
        "y": -1400
      },
      "version": "4.9.7",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": ["settingLLMModel", "reference"],
          "label": "common:core.module.input.label.aiModel",
          "valueType": "string",
          "value": "qwen-turbo"
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": ["hidden"],
          "label": "",
          "value": true,
          "valueType": "boolean"
        },
        {
          "key": "systemPrompt",
          "renderTypeList": ["textarea", "reference"],
          "max": 3000,
          "valueType": "string",
          "label": "common:core.ai.Prompt",
          "value": "ä½ æ˜¯æ™ºæ…§åœè½¦åœºçš„AIå®¢æœåŠ©æ‰‹ï¼Œäº²åˆ‡å‹å¥½ã€‚\n\nå›å¤è¦æ±‚ï¼š\n1. ç®€çŸ­çƒ­æƒ…ï¼ˆä¸è¶…è¿‡30å­—ï¼‰\n2. è‡ªç„¶å¼•å¯¼ç”¨æˆ·è¯´å‡ºéœ€æ±‚\n3. ä¸è¦é‡å¤ä»‹ç»è‡ªå·±\n\nç¤ºä¾‹ï¼š\n- ç”¨æˆ·è¯´"ä½ å¥½" â†’ "æ‚¨å¥½ï¼è¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ"\n- ç”¨æˆ·è¯´"è°¢è°¢" â†’ "ä¸å®¢æ°”ï¼Œç¥æ‚¨åœè½¦æ„‰å¿«ï¼"\n- ç”¨æˆ·è¯´"å†è§" â†’ "å†è§ï¼ŒæœŸå¾…ä¸‹æ¬¡ä¸ºæ‚¨æœåŠ¡ï¼""
        },
        {
          "key": "history",
          "renderTypeList": ["numberInput", "reference"],
          "valueType": "chatHistory",
          "label": "common:core.module.input.label.chat history",
          "required": true,
          "value": 3
        },
        {
          "key": "userChatInput",
          "renderTypeList": ["reference", "textarea"],
          "valueType": "string",
          "label": "workflow:user_question",
          "required": true,
          "value": ["448745", "userChatInput"]
        }
      ],
      "outputs": [
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "httpTriggerHuman",
      "name": "è§¦å‘è½¬äººå·¥API",
      "intro": "è°ƒç”¨åç«¯è½¬äººå·¥æ¥å£",
      "avatar": "core/workflow/template/httpRequest",
      "flowNodeType": "httpRequest468",
      "showStatus": true,
      "position": {
        "x": 2200,
        "y": -1200
      },
      "version": "4.9.2",
      "inputs": [
        {
          "key": "system_httpMethod",
          "renderTypeList": ["custom"],
          "valueType": "string",
          "label": "",
          "value": "POST"
        },
        {
          "key": "system_httpReqUrl",
          "renderTypeList": ["hidden"],
          "valueType": "string",
          "label": "",
          "value": "https://47.237.118.74:3000/api/request-human-takeover"
        },
        {
          "key": "system_httpHeader",
          "renderTypeList": ["custom"],
          "valueType": "any",
          "label": "",
          "value": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        {
          "key": "system_httpParams",
          "renderTypeList": ["hidden"],
          "valueType": "any",
          "label": "",
          "value": []
        },
        {
          "key": "system_httpJsonBody",
          "renderTypeList": ["hidden"],
          "valueType": "any",
          "label": "",
          "value": "{\n  \"instanceId\": \"{{instanceId}}\",\n  \"userId\": \"{{userId}}\",\n  \"channelId\": \"{{channelId}}\",\n  \"reason\": \"{{reason}}\",\n  \"keyword\": \"{{keyword}}\"\n}"
        }
      ],
      "outputs": [
        {
          "id": "system_httpResult",
          "key": "system_httpResult",
          "label": "HTTPå“åº”",
          "valueType": "any",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "fLfedV78iGJ6ytfL",
      "name": "è½¬äººå·¥å®‰æŠšè¯æœ¯",
      "intro": "ç”¨æˆ·æ˜ç¡®è¦æ±‚è½¬äººå·¥æ—¶çš„å›å¤",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 1832.8493733801151,
        "y": -1156.2107390169936
      },
      "version": "4.9.7",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": ["settingLLMModel", "reference"],
          "label": "common:core.module.input.label.aiModel",
          "valueType": "string",
          "value": "qwen-turbo"
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": ["hidden"],
          "label": "",
          "value": true,
          "valueType": "boolean"
        },
        {
          "key": "systemPrompt",
          "renderTypeList": ["textarea", "reference"],
          "max": 3000,
          "valueType": "string",
          "label": "common:core.ai.Prompt",
          "value": "ä½ æ˜¯åœè½¦åœºå®¢æœåŠ©æ‰‹ã€‚ç”¨æˆ·è¯·æ±‚è½¬äººå·¥ï¼Œè¯·åšä»¥ä¸‹å›å¤ï¼š\n\n1. ç¡®è®¤æ”¶åˆ°è¯·æ±‚\n2. å‘ŠçŸ¥æ­£åœ¨ä¸ºç”¨æˆ·è½¬æ¥äººå·¥å®¢æœ\n3. è¯·ç”¨æˆ·ç¨å€™ï¼Œä¸è¦å…³é—­çª—å£\n\nå›å¤è¦æ±‚ï¼š\n- ç®€æ´å‹å¥½ï¼Œä¸è¶…è¿‡50å­—\n- ä¸è¦é—®ç”¨æˆ·åŸå› \n- ç›´æ¥è¡¨ç¤ºæ­£åœ¨è½¬æ¥\n\nç¤ºä¾‹å›å¤ï¼š\n"å¥½çš„ï¼Œæ­£åœ¨ä¸ºæ‚¨è½¬æ¥äººå·¥å®¢æœï¼Œè¯·ç¨å€™ï¼Œä¸è¦å…³é—­çª—å£~""
        },
        {
          "key": "history",
          "renderTypeList": ["numberInput", "reference"],
          "valueType": "chatHistory",
          "label": "common:core.module.input.label.chat history",
          "required": true,
          "value": 3
        },
        {
          "key": "userChatInput",
          "renderTypeList": ["reference", "textarea"],
          "valueType": "string",
          "label": "workflow:user_question",
          "required": true,
          "value": ["448745", "userChatInput"]
        }
      ],
      "outputs": [
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "urgentHandler",
      "name": "ç´§æ€¥/æŠ•è¯‰å¤„ç†",
      "intro": "å¤„ç†æŠ•è¯‰å’Œç´§æ€¥æƒ…å†µ",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 1832,
        "y": -800
      },
      "version": "4.9.7",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": ["settingLLMModel", "reference"],
          "label": "common:core.module.input.label.aiModel",
          "valueType": "string",
          "value": "qwen-turbo"
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": ["hidden"],
          "label": "",
          "value": true,
          "valueType": "boolean"
        },
        {
          "key": "systemPrompt",
          "renderTypeList": ["textarea", "reference"],
          "max": 3000,
          "valueType": "string",
          "label": "common:core.ai.Prompt",
          "value": "ä½ æ˜¯åœè½¦åœºå®¢æœåŠ©æ‰‹ã€‚ç”¨æˆ·æƒ…ç»ªæ¿€åŠ¨æˆ–æœ‰æŠ•è¯‰ï¼Œè¯·ï¼š\n\n1. å…ˆé“æ­‰å®‰æŠšï¼ˆéå¸¸æŠ±æ­‰ç»™æ‚¨å¸¦æ¥ä¸ä¾¿ï¼‰\n2. è¡¨ç¤ºé‡è§†ï¼ˆæˆ‘ä»¬éå¸¸é‡è§†æ‚¨çš„åé¦ˆï¼‰\n3. å‘ŠçŸ¥è½¬äººå·¥ï¼ˆæ­£åœ¨ä¸ºæ‚¨è½¬æ¥äººå·¥å®¢æœå¤„ç†ï¼‰\n4. è¯·ç¨å€™\n\nå›å¤è¦æ±‚ï¼š\n- è¯šæ³ã€æ¸©å’Œã€ä¸è¾©è§£\n- ä¸è¶…è¿‡80å­—\n- ä½“ç°åŒç†å¿ƒ\n\nç¤ºä¾‹ï¼š\n"éå¸¸æŠ±æ­‰ç»™æ‚¨å¸¦æ¥ä¸ä¾¿ï¼æˆ‘ä»¬éå¸¸é‡è§†æ‚¨çš„åé¦ˆï¼Œæ­£åœ¨ä¸ºæ‚¨è½¬æ¥äººå·¥å®¢æœä¼˜å…ˆå¤„ç†ï¼Œè¯·ç¨å€™~""
        },
        {
          "key": "history",
          "renderTypeList": ["numberInput", "reference"],
          "valueType": "chatHistory",
          "label": "common:core.module.input.label.chat history",
          "required": true,
          "value": 6
        },
        {
          "key": "userChatInput",
          "renderTypeList": ["reference", "textarea"],
          "valueType": "string",
          "label": "workflow:user_question",
          "required": true,
          "value": ["448745", "userChatInput"]
        }
      ],
      "outputs": [
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "deviceEmergency",
      "name": "è®¾å¤‡æ•…éšœå¤„ç†",
      "intro": "å¤„ç†è®¾å¤‡æ•…éšœå’Œç´§æ€¥æ±‚åŠ©ï¼Œå…ˆå°è¯•æ’æŸ¥å†è½¬äººå·¥",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 1832,
        "y": -400
      },
      "version": "4.9.7",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": ["settingLLMModel", "reference"],
          "label": "common:core.module.input.label.aiModel",
          "valueType": "string",
          "value": "qwen-turbo"
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": ["hidden"],
          "label": "",
          "value": true,
          "valueType": "boolean"
        },
        {
          "key": "systemPrompt",
          "renderTypeList": ["textarea", "reference"],
          "max": 3000,
          "valueType": "string",
          "label": "common:core.ai.Prompt",
          "value": "ä½ æ˜¯åœè½¦åœºå®¢æœåŠ©æ‰‹ã€‚ç”¨æˆ·é‡åˆ°è®¾å¤‡é—®é¢˜ï¼ˆå‡ºä¸å»ã€æ‰«ç å¤±è´¥ã€é—¸æœºæ•…éšœç­‰ï¼‰ã€‚\n\nè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤å¤„ç†ï¼š\n1. å…ˆå®‰æŠšï¼ˆåˆ«ç€æ€¥ï¼Œæˆ‘æ¥å¸®æ‚¨ï¼‰\n2. ç»™å‡º1-2ä¸ªå¿«é€Ÿæ’æŸ¥å»ºè®®ï¼š\n   - æ‰«ç é—®é¢˜ï¼šè¯·æ£€æŸ¥ç½‘ç»œï¼Œæˆ–å°è¯•æ‰‹åŠ¨è¾“å…¥è½¦ç‰Œ\n   - é—¸æœºé—®é¢˜ï¼šè¯·åœ¨é€šé“ç­‰å¾…ï¼Œä¸è¦å€’è½¦\n   - å‡ºä¸å»ï¼šè¯·ç¡®è®¤æ˜¯å¦å·²å®Œæˆç¼´è´¹\n3. å‘ŠçŸ¥å·²é€šçŸ¥å·¥ä½œäººå‘˜\n\nå›å¤è¦æ±‚ï¼š\n- ç®€æ´å®ç”¨ï¼Œä¸è¶…è¿‡80å­—\n- ç»™ç”¨æˆ·æ˜ç¡®çš„æ“ä½œæŒ‡å¼•\n\nç¤ºä¾‹ï¼š\n"åˆ«ç€æ€¥ï¼è¯·å…ˆç¡®è®¤æ˜¯å¦å·²å®Œæˆç¼´è´¹ã€‚å¦‚å·²ç¼´è´¹ä»æ— æ³•å‡ºåœºï¼Œè¯·åœ¨é€šé“ç¨å€™ï¼Œæˆ‘å·²é€šçŸ¥ç°åœºå·¥ä½œäººå‘˜å‰å¾€å¤„ç†~""
        },
        {
          "key": "history",
          "renderTypeList": ["numberInput", "reference"],
          "valueType": "chatHistory",
          "label": "common:core.module.input.label.chat history",
          "required": true,
          "value": 6
        },
        {
          "key": "userChatInput",
          "renderTypeList": ["reference", "textarea"],
          "valueType": "string",
          "label": "workflow:user_question",
          "required": true,
          "value": ["448745", "userChatInput"]
        }
      ],
      "outputs": [
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "gGhBoEqj0cccZ7ow",
      "name": "çŸ¥è¯†åº“æœç´¢",
      "intro": "è°ƒç”¨çŸ¥è¯†åº“æŸ¥æ‰¾ç›¸å…³å†…å®¹",
      "avatar": "core/workflow/template/datasetSearch",
      "flowNodeType": "datasetSearchNode",
      "showStatus": true,
      "position": {
        "x": 1832.8493733801151,
        "y": 106.9003724006242
      },
      "version": "4.9.2",
      "inputs": [
        {
          "key": "datasets",
          "renderTypeList": ["selectDataset", "reference"],
          "label": "common:core.module.input.label.Select dataset",
          "value": [],
          "valueType": "selectDataset",
          "required": true,
          "valueDesc": "åœ¨FastGPTæ§åˆ¶å°é€‰æ‹©æ‚¨çš„åœè½¦åœºçŸ¥è¯†åº“"
        },
        {
          "key": "similarity",
          "renderTypeList": ["selectDatasetParamsModal"],
          "label": "",
          "value": 0.5,
          "valueType": "number"
        },
        {
          "key": "limit",
          "renderTypeList": ["hidden"],
          "label": "",
          "value": 5000,
          "valueType": "number"
        },
        {
          "key": "searchMode",
          "renderTypeList": ["hidden"],
          "label": "",
          "valueType": "string",
          "value": "mixedRecall"
        },
        {
          "key": "embeddingWeight",
          "renderTypeList": ["hidden"],
          "label": "",
          "valueType": "number",
          "value": 0.5
        },
        {
          "key": "usingReRank",
          "renderTypeList": ["hidden"],
          "label": "",
          "valueType": "boolean",
          "value": true
        },
        {
          "key": "rerankModel",
          "renderTypeList": ["hidden"],
          "label": "",
          "valueType": "string",
          "value": "qwen3-rerank"
        },
        {
          "key": "rerankWeight",
          "renderTypeList": ["hidden"],
          "label": "",
          "valueType": "number",
          "value": 0.5
        },
        {
          "key": "userChatInput",
          "renderTypeList": ["reference", "textarea"],
          "valueType": "string",
          "label": "workflow:user_question",
          "required": true,
          "value": ["448745", "userChatInput"]
        }
      ],
      "outputs": [
        {
          "id": "quoteQA",
          "key": "quoteQA",
          "label": "common:core.module.Dataset quote.label",
          "type": "static",
          "valueType": "datasetQuote"
        }
      ]
    },
    {
      "nodeId": "rp2uX8ZwzKDAnNJJ",
      "name": "åˆ¤æ–­å™¨",
      "intro": "åˆ¤æ–­çŸ¥è¯†åº“æ˜¯å¦æœ‰ç»“æœ",
      "avatar": "core/workflow/template/ifelse",
      "flowNodeType": "ifElseNode",
      "showStatus": true,
      "position": {
        "x": 2562.0632357771237,
        "y": 325.6229926354613
      },
      "inputs": [
        {
          "key": "ifElseList",
          "renderTypeList": ["hidden"],
          "valueType": "any",
          "label": "",
          "value": [
            {
              "condition": "AND",
              "list": [
                {
                  "variable": ["gGhBoEqj0cccZ7ow", "quoteQA"],
                  "condition": "isEmpty",
                  "valueType": "input"
                }
              ]
            }
          ]
        }
      ],
      "outputs": [
        {
          "id": "ifElseResult",
          "key": "ifElseResult",
          "label": "workflow:judgment_result",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "hCekTU8kMxlHytWb",
      "name": "çŸ¥è¯†åº“æ— ç»“æœ-è½¬äººå·¥",
      "intro": "çŸ¥è¯†åº“æ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆæ—¶çš„å›å¤",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 3589.169908425706,
        "y": -372.403508688711
      },
      "version": "4.9.7",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": ["settingLLMModel", "reference"],
          "label": "common:core.module.input.label.aiModel",
          "valueType": "string",
          "value": "qwen-turbo"
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": ["hidden"],
          "label": "",
          "value": true,
          "valueType": "boolean"
        },
        {
          "key": "systemPrompt",
          "renderTypeList": ["textarea", "reference"],
          "max": 3000,
          "valueType": "string",
          "label": "common:core.ai.Prompt",
          "value": "ä½ æ˜¯åœè½¦åœºå®¢æœåŠ©æ‰‹ã€‚ç”¨æˆ·çš„é—®é¢˜è¶…å‡ºäº†çŸ¥è¯†åº“èŒƒå›´ï¼Œéœ€è¦è½¬äººå·¥ã€‚\n\nè¯·ï¼š\n1. è¯šå®å‘ŠçŸ¥æ— æ³•ç›´æ¥å›ç­”\n2. å‘ŠçŸ¥å·²é€šçŸ¥äººå·¥å®¢æœ\n3. è¯·ç”¨æˆ·ç¨å€™\n\nå›å¤è¦æ±‚ï¼š\n- è¯šæ³ã€ä¸æ•·è¡\n- ä¸è¶…è¿‡60å­—\n- ä¸è¦è¯´"æ ¹æ®çŸ¥è¯†åº“"\n\nç¤ºä¾‹ï¼š\n"æŠ±æ­‰ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘æš‚æ—¶æ— æ³•ç›´æ¥å›ç­”ã€‚å·²é€šçŸ¥äººå·¥å®¢æœï¼Œè¯·ç¨å€™~""
        },
        {
          "key": "history",
          "renderTypeList": ["numberInput", "reference"],
          "valueType": "chatHistory",
          "label": "common:core.module.input.label.chat history",
          "required": true,
          "value": 6
        },
        {
          "key": "quoteQA",
          "renderTypeList": ["settingDatasetQuotePrompt"],
          "label": "",
          "valueType": "datasetQuote",
          "value": ["gGhBoEqj0cccZ7ow", "quoteQA"]
        },
        {
          "key": "userChatInput",
          "renderTypeList": ["reference", "textarea"],
          "valueType": "string",
          "label": "workflow:user_question",
          "required": true,
          "value": ["448745", "userChatInput"]
        }
      ],
      "outputs": [
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "valueType": "string",
          "type": "static"
        }
      ]
    },
    {
      "nodeId": "oYdP6PKTnTM9jjnZ",
      "name": "çŸ¥è¯†åº“æœ‰ç»“æœ-æ­£å¸¸å›ç­”",
      "intro": "åŸºäºçŸ¥è¯†åº“å†…å®¹å›ç­”ç”¨æˆ·",
      "avatar": "core/workflow/template/aiChat",
      "flowNodeType": "chatNode",
      "showStatus": true,
      "position": {
        "x": 3555.3271554911753,
        "y": 809.5756241088734
      },
      "version": "4.9.7",
      "inputs": [
        {
          "key": "model",
          "renderTypeList": ["settingLLMModel", "reference"],
          "label": "common:core.module.input.label.aiModel",
          "valueType": "string",
          "value": "qwen-turbo"
        },
        {
          "key": "isResponseAnswerText",
          "renderTypeList": ["hidden"],
          "label": "",
          "value": true,
          "valueType": "boolean"
        },
        {
          "key": "systemPrompt",
          "renderTypeList": ["textarea", "reference"],
          "max": 3000,
          "valueType": "string",
          "label": "common:core.ai.Prompt",
          "value": "ä½ æ˜¯åœè½¦åœºè½¦é“åŠ©æ‰‹ã€‚è¯·æ ¹æ®ã€å¼•ç”¨å†…å®¹ã€‘å›ç­”ç”¨æˆ·é—®é¢˜ã€‚\n\nã€å›ç­”åŸåˆ™ã€‘\n1. **æç®€ä¸»ä¹‰**ï¼šç­”æ¡ˆå¿…é¡»æ§åˆ¶åœ¨ **50å­—ä»¥å†…**ï¼Œç›´æ¥è¯´é‡ç‚¹\n2. **æ‹’ç»æœºæ¢°**ï¼šä¸è¦è¯´"æ ¹æ®æŸ¥è¯¢åˆ°çš„ä¿¡æ¯..."ï¼Œç›´æ¥ä»¥"æ‚¨å¥½..."å¼€å¤´\n3. **å®ç”¨ä¼˜å…ˆ**ï¼šå‘Šè¯‰ç”¨æˆ·æ€ä¹ˆåšï¼Œè€Œä¸æ˜¯å¿µè§„åˆ™\n4. **å‹å¥½æ”¶å°¾**ï¼šå¦‚"è¿˜æœ‰å…¶ä»–é—®é¢˜å¯ä»¥ç»§ç»­é—®æˆ‘~"\n\nã€ç¤ºä¾‹ã€‘\né—®ï¼šåœè½¦è´¹æ€ä¹ˆç®—ï¼Ÿ\nç­”ï¼šæ‚¨å¥½ï¼å‰15åˆ†é’Ÿå…è´¹ï¼Œä¹‹åæ¯å°æ—¶3å…ƒï¼Œ24å°æ—¶å°é¡¶30å…ƒã€‚è¿˜æœ‰é—®é¢˜å¯ä»¥ç»§ç»­é—®æˆ‘~"
        },
        {
          "key": "history",
          "renderTypeList": ["numberInput", "reference"],
          "valueType": "chatHistory",
          "label": "common:core.module.input.label.chat history",
          "required": true,
          "value": 6
        },
        {
          "key": "quoteQA",
          "renderTypeList": ["settingDatasetQuotePrompt"],
          "label": "",
          "valueType": "datasetQuote",
          "value": ["gGhBoEqj0cccZ7ow", "quoteQA"]
        },
        {
          "key": "userChatInput",
          "renderTypeList": ["reference", "textarea"],
          "valueType": "string",
          "label": "workflow:user_question",
          "required": true,
          "value": ["448745", "userChatInput"]
        }
      ],
      "outputs": [
        {
          "id": "answerText",
          "key": "answerText",
          "required": true,
          "label": "common:core.module.output.label.Ai response content",
          "valueType": "string",
          "type": "static"
        }
      ]
    }
  ],
  "edges": [
    {
      "source": "448745",
      "target": "xfPqhqw0IAHkLdtl",
      "sourceHandle": "448745-source-right",
      "targetHandle": "xfPqhqw0IAHkLdtl-target-left"
    },
    {
      "source": "xfPqhqw0IAHkLdtl",
      "target": "fLfedV78iGJ6ytfL",
      "sourceHandle": "xfPqhqw0IAHkLdtl-source-human_direct",
      "targetHandle": "fLfedV78iGJ6ytfL-target-left"
    },
    {
      "source": "xfPqhqw0IAHkLdtl",
      "target": "urgentHandler",
      "sourceHandle": "xfPqhqw0IAHkLdtl-source-urgent_complaint",
      "targetHandle": "urgentHandler-target-left"
    },
    {
      "source": "xfPqhqw0IAHkLdtl",
      "target": "deviceEmergency",
      "sourceHandle": "xfPqhqw0IAHkLdtl-source-device_emergency",
      "targetHandle": "deviceEmergency-target-left"
    },
    {
      "source": "xfPqhqw0IAHkLdtl",
      "target": "gGhBoEqj0cccZ7ow",
      "sourceHandle": "xfPqhqw0IAHkLdtl-source-normal_qa",
      "targetHandle": "gGhBoEqj0cccZ7ow-target-left"
    },
    {
      "source": "xfPqhqw0IAHkLdtl",
      "target": "greetingChat",
      "sourceHandle": "xfPqhqw0IAHkLdtl-source-greeting",
      "targetHandle": "greetingChat-target-left"
    },
    {
      "source": "gGhBoEqj0cccZ7ow",
      "target": "rp2uX8ZwzKDAnNJJ",
      "sourceHandle": "gGhBoEqj0cccZ7ow-source-right",
      "targetHandle": "rp2uX8ZwzKDAnNJJ-target-left"
    },
    {
      "source": "rp2uX8ZwzKDAnNJJ",
      "target": "hCekTU8kMxlHytWb",
      "sourceHandle": "rp2uX8ZwzKDAnNJJ-source-IF",
      "targetHandle": "hCekTU8kMxlHytWb-target-left"
    },
    {
      "source": "rp2uX8ZwzKDAnNJJ",
      "target": "oYdP6PKTnTM9jjnZ",
      "sourceHandle": "rp2uX8ZwzKDAnNJJ-source-ELSE",
      "targetHandle": "oYdP6PKTnTM9jjnZ-target-left"
    },
    {
      "source": "fLfedV78iGJ6ytfL",
      "target": "httpTriggerHuman",
      "sourceHandle": "fLfedV78iGJ6ytfL-source-right",
      "targetHandle": "httpTriggerHuman-target-left"
    },
    {
      "source": "urgentHandler",
      "target": "httpTriggerHuman",
      "sourceHandle": "urgentHandler-source-right",
      "targetHandle": "httpTriggerHuman-target-left"
    },
    {
      "source": "deviceEmergency",
      "target": "httpTriggerHuman",
      "sourceHandle": "deviceEmergency-source-right",
      "targetHandle": "httpTriggerHuman-target-left"
    },
    {
      "source": "hCekTU8kMxlHytWb",
      "target": "httpTriggerHuman",
      "sourceHandle": "hCekTU8kMxlHytWb-source-right",
      "targetHandle": "httpTriggerHuman-target-left"
    }
  ],
  "chatConfig": {
    "variables": [
      {
        "id": "plateNumber",
        "key": "plateNumber",
        "label": "è½¦ç‰Œå·",
        "type": "input",
        "required": false,
        "maxLen": 10
      }
    ],
    "scheduledTriggerConfig": {
      "cronString": "",
      "timezone": "Asia/Shanghai",
      "defaultPrompt": ""
    }
  }
}
