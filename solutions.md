# é¡¹ç›®é˜»å¡žé—®é¢˜è§£å†³æ–¹æ¡ˆçŸ©é˜µ

## åˆ†æžæ—¥æœŸ: 2026-01-09

## æ ¸å¿ƒè¯Šæ–­

**æ ¹æœ¬é—®é¢˜**: æ–‡ä»¶ç³»ç»Ÿè¯»å–å¼‚å¸¸ï¼Œé˜»æ­¢æ‰€æœ‰å¼€å‘å·¥å…·è®¿é—®é…ç½®æ–‡ä»¶

**ä¼˜å…ˆçº§**: P0 - å¿…é¡»ç«‹å³è§£å†³

---

## è§£å†³æ–¹æ¡ˆä½“ç³»

### ðŸš¨ æ–¹æ¡ˆ Aï¼šæ–‡ä»¶ç³»ç»Ÿä¿®å¤ï¼ˆæŽ¨èï¼Œæ²»æœ¬ï¼‰

#### A1. macOS ç£ç›˜å·¥å…·ä¿®å¤
**é€‚ç”¨åœºæ™¯**: æ–‡ä»¶ç³»ç»Ÿå…ƒæ•°æ®æŸå

**æ­¥éª¤**:
```bash
# 1. å¸è½½ç£ç›˜ï¼ˆå¦‚æžœå¯èƒ½ï¼‰
# 2. ä½¿ç”¨ç£ç›˜å·¥å…·
diskutil verifyVolume /
diskutil repairVolume /

# 3. æˆ–ä½¿ç”¨ First Aidï¼ˆå›¾å½¢ç•Œé¢ï¼‰
# æ‰“å¼€"ç£ç›˜å·¥å…·" -> é€‰æ‹©ç£ç›˜ -> ç‚¹å‡»"æ€¥æ•‘"
```

**ä¼˜ç‚¹**:
- å½»åº•è§£å†³æ ¹æœ¬é—®é¢˜
- ä¿®å¤æ‰€æœ‰æŸåæ–‡ä»¶
- æ¢å¤æ­£å¸¸æ–‡ä»¶è®¿é—®

**ç¼ºç‚¹**:
- éœ€è¦ç³»ç»Ÿæƒé™
- å¯èƒ½éœ€è¦é‡å¯
- æœ‰å°æ¦‚çŽ‡æ•°æ®ä¸¢å¤±é£Žé™©

**é£Žé™©ç­‰çº§**: âš ï¸ ä¸­ç­‰ï¼ˆå»ºè®®å…ˆå¤‡ä»½ï¼‰

---

#### A2. ç§»é™¤å¼‚å¸¸æ‰©å±•å±žæ€§
**é€‚ç”¨åœºæ™¯**: æ–‡ä»¶è¢«æ ‡è®°äº†ç‰¹æ®Šå±žæ€§

**æ­¥éª¤**:
```bash
cd /Users/hongye/Desktop/aihelper/parking-ai-customer-service

# ç§»é™¤æ‰€æœ‰ @ æ‰©å±•å±žæ€§
xattr -cr .

# æˆ–é’ˆå¯¹ç‰¹å®šæ–‡ä»¶
xattr -d com.apple.provenance package.json
xattr -d com.apple.provenance tsconfig.json
# ... å…¶ä»–å—å½±å“çš„æ–‡ä»¶
```

**ä¼˜ç‚¹**:
- å¿«é€Ÿ
- ä½Žé£Žé™©
- é’ˆå¯¹æ€§å¼º

**ç¼ºç‚¹**:
- å¦‚æžœä¸æ˜¯æ‰©å±•å±žæ€§é—®é¢˜ï¼Œæ— æ•ˆ
- å¯èƒ½ä¸¢å¤±åˆæ³•çš„å…ƒæ•°æ®

**é£Žé™©ç­‰çº§**: âœ… ä½Ž

**éªŒè¯**:
```bash
# ä¿®å¤åŽæµ‹è¯•
cat package.json
python3 -c "print(open('package.json').read())"
```

---

#### A3. æ–‡ä»¶é‡æ–°å¤åˆ¶ï¼ˆæ•°æ®æ¢å¤ï¼‰
**é€‚ç”¨åœºæ™¯**: æ–‡ä»¶ inode æˆ–æ•°æ®å—æŸå

**æ­¥éª¤**:
```bash
# 1. ä½¿ç”¨ dd æˆ– cp é‡å»ºæ–‡ä»¶
for file in package.json tsconfig.json tsconfig.node.json; do
    # å°è¯•å¼ºåˆ¶è¯»å–å¹¶å†™å…¥æ–°æ–‡ä»¶
    dd if="$file" of="${file}.recovered" bs=1 conv=noerror,sync 2>/dev/null

    # æ£€æŸ¥æ¢å¤çš„æ–‡ä»¶
    if [ -s "${file}.recovered" ]; then
        mv "$file" "${file}.damaged"
        mv "${file}.recovered" "$file"
    fi
done

# 2. æˆ–ä»Ž Time Machine æ¢å¤ï¼ˆå¦‚æžœæœ‰å¤‡ä»½ï¼‰
```

**ä¼˜ç‚¹**:
- ä¿ç•™åŽŸæ–‡ä»¶ä½œä¸ºå¤‡ä»½
- å¯èƒ½æ¢å¤ä¸å¯è¯»çš„æ•°æ®

**ç¼ºç‚¹**:
- ä¸ä¸€å®šæˆåŠŸ
- éœ€è¦æ‰‹åŠ¨å¤„ç†æ¯ä¸ªæ–‡ä»¶

**é£Žé™©ç­‰çº§**: âœ… ä½Žï¼ˆå› ä¸ºä¿ç•™åŽŸæ–‡ä»¶ï¼‰

---

### ðŸ”§ æ–¹æ¡ˆ Bï¼šé‡å»ºé…ç½®æ–‡ä»¶ï¼ˆåº”æ€¥ï¼Œæ²»æ ‡ï¼‰

#### B1. ä»Ž package-lock.json é‡å»º package.json

**å‰ç½®æ¡ä»¶**: æ–‡ä»¶è®¿é—®é—®é¢˜æœªè§£å†³å‰çš„ä¸´æ—¶æ–¹æ¡ˆ

**æ­¥éª¤**:
```bash
cd /Users/hongye/Desktop/aihelper/parking-ai-customer-service

# ä»Ž package-lock.json æå–ä¿¡æ¯å¹¶é‡å»º
cat > package.json << 'EOF'
{
  "name": "parking-ai-customer-service",
  "version": "1.0.0",
  "description": "åœè½¦åœº AI å®¢æœç³»ç»Ÿ - åŸºäºŽé˜¿é‡Œäº‘ AI-RTC",
  "main": "index.html",
  "type": "module",
  "scripts": {
    "dev": "vite --host 0.0.0.0 --port 3000",
    "build": "vite build",
    "preview": "vite preview"
  },
  "keywords": ["ai", "customer-service", "parking", "aliyun"],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "aliyun-auikit-aicall": "^1.1.0",
    "axios": "^1.6.2",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "uuid": "^9.0.1"
  },
  "devDependencies": {
    "@types/react": "^18.2.15",
    "@types/react-dom": "^18.2.7",
    "@types/uuid": "^9.0.7",
    "@vitejs/plugin-react": "^4.0.3",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "express": "^4.18.2",
    "typescript": "^5.0.2",
    "vite": "^4.4.5"
  }
}
EOF
```

**ä¼˜ç‚¹**:
- å¿«é€Ÿæ¢å¤æž„å»ºèƒ½åŠ›
- ä¾èµ–ä¿¡æ¯å‡†ç¡®

**ç¼ºç‚¹**:
- ä¸è§£å†³æ ¹æœ¬é—®é¢˜
- scripts éƒ¨åˆ†éœ€è¦æ‰‹åŠ¨è¡¥å……
- å…¶ä»–æ–‡ä»¶ä»æœ‰é—®é¢˜

**é£Žé™©ç­‰çº§**: âœ… ä½Žï¼ˆåªæ˜¯é‡å»ºé…ç½®ï¼‰

---

#### B2. é‡å»º TypeScript é…ç½®

**æ­¥éª¤**:
```bash
cd /Users/hongye/Desktop/aihelper/parking-ai-customer-service

# é‡å»º tsconfig.json
cat > tsconfig.json << 'EOF'
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}
EOF

# é‡å»º tsconfig.node.json
cat > tsconfig.node.json << 'EOF'
{
  "compilerOptions": {
    "composite": true,
    "skipLibCheck": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}
EOF
```

**ä¼˜ç‚¹**:
- æ ‡å‡† Vite + React + TS é…ç½®
- ç«‹å³å¯ç”¨

**ç¼ºç‚¹**:
- å¯èƒ½ä¸å®Œå…¨åŒ¹é…é¡¹ç›®åŽŸå§‹é…ç½®
- éœ€è¦æµ‹è¯•è°ƒæ•´

**é£Žé™©ç­‰çº§**: âœ… ä½Ž

---

#### B3. é‡å»ºåŽç«¯é…ç½®

**æ­¥éª¤**:
```bash
cd /Users/hongye/Desktop/aihelper/parking-ai-customer-service/server

# åŸºäºŽ node_modules æŽ¨æ–­ä¾èµ–
# æ£€æŸ¥å·²å®‰è£…çš„åŒ…
ls node_modules | head -20

# é‡å»º server/package.jsonï¼ˆéœ€è¦æ‰‹åŠ¨ç¡®è®¤ä¾èµ–ç‰ˆæœ¬ï¼‰
cat > package.json << 'EOF'
{
  "name": "parking-ai-server",
  "version": "1.0.0",
  "description": "åœè½¦åœºAIå®¢æœåŽç«¯æœåŠ¡",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "express": "^4.18.2",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "axios": "^1.6.2"
  },
  "devDependencies": {
    "nodemon": "^3.0.2"
  }
}
EOF
```

**ä¼˜ç‚¹**:
- æ¢å¤åŽç«¯å¼€å‘èƒ½åŠ›

**ç¼ºç‚¹**:
- ä¾èµ–ç‰ˆæœ¬å¯èƒ½ä¸ç²¾ç¡®
- éœ€è¦é‡æ–° npm install

**é£Žé™©ç­‰çº§**: âœ… ä½Ž

---

### ðŸ“ æ–¹æ¡ˆ Cï¼šå»ºç«‹å¼€å‘è§„èŒƒï¼ˆé¢„é˜²ï¼‰

#### C1. åˆ›å»º log.mdï¼ˆå¿…é¡»ï¼‰

**æ­¥éª¤**:
```bash
cd /Users/hongye/Desktop/aihelper

cat > log.md << 'EOF'
# é¡¹ç›®å¼€å‘æ—¥å¿—

## 2026-01-09 - é¡¹ç›®è¯Šæ–­ä¸Žä¿®å¤

### å‘çŽ°çš„é—®é¢˜
1. æ–‡ä»¶ç³»ç»Ÿè¯»å–å¼‚å¸¸
   - å¤šä¸ªé…ç½®æ–‡ä»¶æ— æ³•è¢«å·¥å…·é“¾è¯»å–
   - `ls` æ˜¾ç¤ºæ–‡ä»¶æœ‰å¤§å°ï¼Œä½† `cat` è¯»å–ä¸ºç©º
   - å½±å“: Vite æž„å»ºå¤±è´¥

2. ç¼ºå°‘ç‰ˆæœ¬æŽ§åˆ¶
   - é¡¹ç›®ä¸åœ¨ Git ç®¡ç†ä¸‹
   - æ— ç‰ˆæœ¬åŽ†å²å’Œå›žæ»šèƒ½åŠ›

3. ç¼ºå°‘å¼€å‘æ—¥å¿—
   - è¿åç¼–ç è§„èŒƒ

### é‡‡å–çš„ä¿®å¤æŽªæ–½
[ ] æ–¹æ¡ˆ A: æ–‡ä»¶ç³»ç»Ÿä¿®å¤
[ ] æ–¹æ¡ˆ B: é‡å»ºé…ç½®æ–‡ä»¶
[ ] æ–¹æ¡ˆ C: å»ºç«‹å¼€å‘è§„èŒƒ

### ä¿®å¤åŽéªŒè¯
- [ ] `npm run dev` èƒ½æ­£å¸¸å¯åŠ¨
- [ ] é…ç½®æ–‡ä»¶å¯æ­£å¸¸è¯»å–
- [ ] Vite æž„å»ºæˆåŠŸ

---

## å¼€å‘è§„èŒƒ

### ä¿®æ”¹ä»£ç å‰
1. **å¿…è¯»** log.md
2. ç¡®è®¤è¦ä¿®æ”¹çš„éƒ¨åˆ†
3. è®°å½•ä¿®æ”¹åŽŸå› 

### ä¿®æ”¹ä»£ç åŽ
1. åœ¨æ­¤æ–‡ä»¶è®°å½•æ–­ç‚¹
2. è¯´æ˜Žä¿®æ”¹äº†ä»€ä¹ˆ
3. è¯´æ˜Žä¸ºä»€ä¹ˆä¿®æ”¹
4. æ ‡æ³¨å¯èƒ½çš„é£Žé™©

### æ ¼å¼
```
## YYYY-MM-DD HH:MM - æ¨¡å—åç§°
- ä¿®æ”¹: å…·ä½“æ”¹åŠ¨
- åŽŸå› : ä¸ºä»€ä¹ˆæ”¹
- ä½ç½®: æ–‡ä»¶:è¡Œå·
- é£Žé™©: å¯èƒ½å½±å“çš„åŠŸèƒ½
```

EOF
```

**ä¼˜ç‚¹**:
- ç¬¦åˆç”¨æˆ·ç¼–ç è§„èŒƒ
- é˜²æ­¢æœªæ¥åŠŸèƒ½å›žæ»š
- å»ºç«‹å¼€å‘è¿½è¸ªæœºåˆ¶

**ç¼ºç‚¹**:
- éœ€è¦æŒç»­ç»´æŠ¤

**é£Žé™©ç­‰çº§**: âœ… æ— é£Žé™©

---

#### C2. åˆå§‹åŒ– Git ä»“åº“

**æ­¥éª¤**:
```bash
cd /Users/hongye/Desktop/aihelper

# åˆ›å»º .gitignore
cat > .gitignore << 'EOF'
node_modules/
.env
.DS_Store
*.log
dist/
.vite/
EOF

# åˆå§‹åŒ– Git
git init
git add .
git commit -m "Initial commit: é¡¹ç›®ä¿®å¤åŽçš„åŸºçº¿ç‰ˆæœ¬"
```

**ä¼˜ç‚¹**:
- ç‰ˆæœ¬æŽ§åˆ¶
- å¯å›žæ»š
- å¯åä½œ

**ç¼ºç‚¹**:
- éœ€è¦å­¦ä¹  Gitï¼ˆå¦‚æžœä¸ç†Ÿæ‚‰ï¼‰

**é£Žé™©ç­‰çº§**: âœ… æ— é£Žé™©

---

## æŽ¨èæ‰§è¡Œé¡ºåº

### é˜¶æ®µ 1: è¯Šæ–­éªŒè¯ï¼ˆ5åˆ†é’Ÿï¼‰
```bash
# 1. å°è¯•ç§»é™¤æ‰©å±•å±žæ€§
cd /Users/hongye/Desktop/aihelper/parking-ai-customer-service
xattr -cr .

# 2. éªŒè¯æ˜¯å¦è§£å†³
cat package.json
```

**å¦‚æžœæˆåŠŸ** âœ… â†’ è·³åˆ°é˜¶æ®µ 3
**å¦‚æžœå¤±è´¥** âŒ â†’ ç»§ç»­é˜¶æ®µ 2

---

### é˜¶æ®µ 2A: æ–‡ä»¶ç³»ç»Ÿä¿®å¤ï¼ˆ30åˆ†é’Ÿï¼Œéœ€è¦ç”¨æˆ·æŽˆæƒï¼‰
```bash
# 1. å¤‡ä»½æ•´ä¸ªé¡¹ç›®
cp -r /Users/hongye/Desktop/aihelper /Users/hongye/Desktop/aihelper.backup

# 2. ä½¿ç”¨ç£ç›˜å·¥å…·ä¿®å¤ï¼ˆéœ€è¦å›¾å½¢ç•Œé¢ï¼‰
# æˆ–è€…
diskutil verifyVolume /
diskutil repairVolume /

# 3. é‡å¯ç³»ç»Ÿï¼ˆå¦‚æžœå»ºè®®ï¼‰
# 4. éªŒè¯
```

**å¦‚æžœæˆåŠŸ** âœ… â†’ è·³åˆ°é˜¶æ®µ 3
**å¦‚æžœå¤±è´¥** âŒ â†’ ç»§ç»­é˜¶æ®µ 2B

---

### é˜¶æ®µ 2B: åº”æ€¥é‡å»ºï¼ˆ15åˆ†é’Ÿï¼‰
```bash
# æ‰§è¡Œæ–¹æ¡ˆ B1, B2, B3
# é‡å»ºæ‰€æœ‰é…ç½®æ–‡ä»¶
```

---

### é˜¶æ®µ 3: å»ºç«‹è§„èŒƒï¼ˆ10åˆ†é’Ÿï¼‰
```bash
# æ‰§è¡Œæ–¹æ¡ˆ C1, C2
# åˆ›å»º log.md
# åˆå§‹åŒ– Git
```

---

### é˜¶æ®µ 4: éªŒè¯ä¿®å¤ï¼ˆ5åˆ†é’Ÿï¼‰
```bash
cd /Users/hongye/Desktop/aihelper/parking-ai-customer-service

# æµ‹è¯•å‰ç«¯
npm run dev
# æœŸæœ›: Vite å¯åŠ¨æˆåŠŸï¼Œæ—  JSON é”™è¯¯

# æµ‹è¯•åŽç«¯
cd server
npm start
# æœŸæœ›: Express æœåŠ¡å™¨å¯åŠ¨
```

---

## å†³ç­–çŸ©é˜µ

| åœºæ™¯ | æŽ¨èæ–¹æ¡ˆ | ç†ç”± |
|------|----------|------|
| æœ‰ç³»ç»Ÿç®¡ç†å‘˜æƒé™ | A1 æˆ– A2 | å½»åº•è§£å†³ |
| èµ¶æ—¶é—´ï¼Œéœ€è¦ç«‹å³å¼€å‘ | B1 + B2 + B3 | å¿«é€Ÿæ¢å¤ |
| æ–‡ä»¶æœ‰å¤‡ä»½ | A3 | å®‰å…¨æ¢å¤ |
| æ‰€æœ‰æ–¹æ¡ˆéƒ½å¤±è´¥ | é‡æ–°ä»Žæ¨¡æ¿åˆ›å»ºé¡¹ç›® | æœ€åŽæ‰‹æ®µ |

---

## åŽç»­å»ºè®®

1. **ç«‹å³æ‰§è¡Œ**:
   - [ ] åˆ›å»º log.md
   - [ ] åˆå§‹åŒ– Git
   - [ ] ä¿®å¤æ–‡ä»¶è®¿é—®é—®é¢˜

2. **çŸ­æœŸï¼ˆæœ¬å‘¨ï¼‰**:
   - [ ] å»ºç«‹è‡ªåŠ¨å¤‡ä»½æœºåˆ¶
   - [ ] é…ç½® CI/CD
   - [ ] å®Œå–„æ–‡æ¡£

3. **ä¸­æœŸï¼ˆæœ¬æœˆï¼‰**:
   - [ ] æ·»åŠ å•å…ƒæµ‹è¯•
   - [ ] ä»£ç å®¡æŸ¥æµç¨‹
   - [ ] æ€§èƒ½ç›‘æŽ§

4. **é•¿æœŸï¼ˆæœ¬å­£åº¦ï¼‰**:
   - [ ] æž¶æž„ä¼˜åŒ–
   - [ ] æŠ€æœ¯æ ˆå‡çº§è¯„ä¼°
   - [ ] å›¢é˜Ÿåä½œè§„èŒƒ

---

## è”ç³»ç‚¹

å¦‚æžœä»¥ä¸Šæ–¹æ¡ˆéƒ½æ— æ³•è§£å†³ï¼š
1. æ£€æŸ¥ macOS ç³»ç»Ÿæ—¥å¿—ï¼š`Console.app`
2. æ£€æŸ¥ç£ç›˜å¥åº·ï¼š`smartctl -a /dev/disk0`
3. è€ƒè™‘æ–‡ä»¶ç³»ç»Ÿç±»åž‹è½¬æ¢ï¼ˆAPFS é—®é¢˜ï¼‰
4. è”ç³» macOS æŠ€æœ¯æ”¯æŒ

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**åˆ›å»ºæ—¶é—´**: 2026-01-09
**æœ€åŽæ›´æ–°**: 2026-01-09
**ç»´æŠ¤è€…**: AI å…¨æ ˆæž¶æž„å¸ˆ
